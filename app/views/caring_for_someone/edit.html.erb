<% content_for :question_title, t("views.caring_for_someone.edit.title") %>

<h1 class="h2"><%= content_for(:question_title) %></h1>

<p><%= t("views.caring_for_someone.edit.help_text_html") %></p>

<div class="notice teal">
  <div class="media-box">
    <div class="media-box__media media--icon">
      <i class="icon-help"></i>
    </div>
    <div class="media-box__content">
      <%= t("views.caring_for_someone.edit.notice_text") %>
    </div>
  </div>
</div>

<%= form_with model: @model, url: { action: :update }, data: { turbo: false }, local: true, method: "put", builder: Cfa::Styleguide::CfaFormBuilder do |f| %>
  <div class="checkbox-group spacing-below-60">
    <div class="question-with-follow-up">
      <div class="question-with-follow-up__question">
        <%= f.cfa_checkbox(:caring_for_disabled_or_ill_person, t("views.caring_for_someone.edit.disabled_or_ill_person"), options: { checked_value: "yes", unchecked_value: "no", "data-follow-up": "#disabled-ill-or-under-6" }) %>
        <%= f.cfa_checkbox(:caring_for_child_under_6, t("views.caring_for_someone.edit.child_under_6"), options: { checked_value: "yes", unchecked_value: "no", "data-follow-up": "#disabled-ill-or-under-6" }) %>

        <%= f.cfa_checkbox(:caring_for_no_one, t("general.none_of_the_above"), options: { checked_value: "yes", unchecked_value: "no", id: "none_of_the_above"}) %>
      </div>
      <div class="question-with-follow-up__follow-up" id="disabled-ill-or-under-6">
        <hr class="spacing-above-0" />
        <%= f.cfa_textarea(
              :additional_care_info,
              t("views.caring_for_someone.edit.additional_care_info"),
              help_text: t("views.caring_for_someone.edit.additional_care_info_help_text"),
              options: {
                maxlength: CaringForSomeoneController::CHARACTER_LIMIT,
                data: {
                  i18n_one: t("general.char_counter.remaining.one", count: "%{count}"),
                  i18n_other: t("general.char_counter.remaining.other", count: "%{count}")
                }
              }
            ) %>

        <p class="char-counter spacing-below-0">&nbsp;</p>
      </div>
    </div>
  </div>

  <%= f.submit t("general.continue"), class: "button button--primary" %>
<% end %>
